(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{132:function(e,t,a){e.exports={App:"App_App__16ZpL",Logo:"App_Logo__3Ad8t"}},135:function(e,t,a){e.exports={Container:"ForgotPassword_Container__3np9j",Form:"ForgotPassword_Form__3JpIe"}},136:function(e,t,a){e.exports={Container:"ResetPassword_Container__hT87g",Form:"ResetPassword_Form__1qfcX"}},137:function(e,t,a){e.exports={Container:"Map_Container__1atR2",Marker:"Map_Marker__29p3h"}},21:function(e,t,a){e.exports={UserPortal:"UserPortal_UserPortal__1U0uj",Logo:"UserPortal_Logo__3sd6L",Showcase:"UserPortal_Showcase__20lZr",Inputcase:"UserPortal_Inputcase__3snXQ",Avatar:"UserPortal_Avatar__2aVQv",Display:"UserPortal_Display__2GCUY",Values:"UserPortal_Values__2dLxm",Row:"UserPortal_Row__2DOo8",Form:"UserPortal_Form__3Ewee"}},236:function(e,t,a){e.exports={Home:"Home_Home__1ihTB",Logo:"Home_Logo__3mtxF"}},237:function(e,t,a){e.exports={Loader:"Spinner_Loader__1twK-",load4:"Spinner_load4__dJ24G"}},247:function(e,t,a){},251:function(e,t){},253:function(e,t){},266:function(e,t){},268:function(e,t){},296:function(e,t){},298:function(e,t){},299:function(e,t){},304:function(e,t){},306:function(e,t){},31:function(e,t,a){e.exports={About:"About_About__2X68g",Section:"About_Section__3Kzz8",Box:"About_Box__gqcUd",ImgContainer:"About_ImgContainer__oUSTI"}},325:function(e,t){},337:function(e,t){},340:function(e,t){},36:function(e,t,a){e.exports={Container:"ChatRoom_Container__3f2--",Name:"ChatRoom_Name__3oy6I",Messages:"ChatRoom_Messages__3Ql2E",MessagesList:"ChatRoom_MessagesList__2a2aU",Lower:"ChatRoom_Lower__1YqhJ",Textarea:"ChatRoom_Textarea__2haf1",Item:"ChatRoom_Item__UBdpR",MyMessage:"ChatRoom_MyMessage__2RK2J",ReceivedMessage:"ChatRoom_ReceivedMessage__2gNcG",NewMessage:"ChatRoom_NewMessage__2QfNT",Button:"ChatRoom_Button___Zs84",Avatar:"ChatRoom_Avatar__1zPwB"}},39:function(e,t,a){e.exports={Container:"Profile_Container__1OLNH",Showcase:"Profile_Showcase__13hMQ",Dropoffs:"Profile_Dropoffs__1qOyp",FileLoader:"Profile_FileLoader__knoib",Avatar:"Profile_Avatar__3NBIg",Content:"Profile_Content__29K2F"}},40:function(e,t,a){e.exports={Container:"CreateDropoff_Container__2nMOg",Logo:"CreateDropoff_Logo__3Mfct",Form:"CreateDropoff_Form__3Fox5",TimePicker:"CreateDropoff_TimePicker__VyCIO",firstInput:"CreateDropoff_firstInput__29Zwz",Row:"CreateDropoff_Row__2Haep"}},41:function(e,t,a){e.exports={Container:"UserDeposit_Container__3LZFl",Logo:"UserDeposit_Logo__2UaFh",Form:"UserDeposit_Form__EUPMb",SelectInput:"UserDeposit_SelectInput__FZTpU",Row:"UserDeposit_Row__25FLh",Col:"UserDeposit_Col__3ZFA-",Deposit:"UserDeposit_Deposit__1zGFS"}},48:function(e){e.exports=JSON.parse('{"c":"e855f8934amshaea2adbe9d42120p167129jsn01b5d102db6f","a":"123456789","b":"pk.eyJ1IjoibWNhcHVycmkiLCJhIjoiY2tsMmR4Z2NmMDgwaDJ1cDEycmEyN3NiaCJ9.Mmr5igenBPR3QkJOKMgG3A"}')},568:function(e,t,a){},597:function(e,t,a){"use strict";a.r(t);var r=a(9),n=a.n(r),s=a(8),c=a(12),o=a(2),i=a(77),l=a.n(i),j=(a(247),a(234)),d=a.n(j),u=a(48),b=a(7),h=a(132),p=a.n(h),m=a(14),O=a(15),x=a(49),f=a.n(x),g=function(){var e=Object(c.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("/api/auth/signup",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.response.data);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("/api/auth/login",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.response.data);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(c.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.delete("/api/auth/logout");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.response.data);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),_=a(241),w=a(29),C=a(1),F=function(e){var t=e.component,a=e.user,r=e.path,n=e.redirectPath,c=void 0===n?"/":n,o=Object(w.a)(e,["component","user","path","redirectPath"]);return Object(C.jsx)(O.b,{path:r,render:function(e){return a?Object(C.jsx)(t,Object(s.a)(Object(s.a)(Object(s.a)({},e),o),{},{user:a})):Object(C.jsx)(O.a,{to:c})}})},N=a(236),S=a.n(N),L=a(93),I=a.n(L),k=a(4),D=function(e){var t=Object(o.useState)(e),a=Object(b.a)(t,2),r=a[0],n=a[1];return[r,function(e){var t;n(null===(t=e.target)||void 0===t?void 0:t.value)}]},R=function(e){var t=e.setUser,a=Object(o.useState)(""),r=Object(b.a)(a,2),n=r[0],s=r[1],c=D(""),i=Object(b.a)(c,2),l=i[0],j=i[1],d=D(""),u=Object(b.a)(d,2),h=u[0],p=u[1];return Object(C.jsxs)("div",{className:I.a.Container,children:[Object(C.jsxs)("h1",{children:[Object(C.jsx)("span",{children:"Futura"}),Object(C.jsx)("img",{src:"../../../assets/africa-recycle-logo.png",alt:"",style:{width:"3rem",height:"3rem",borderRadius:"50%"}})," "]}),Object(C.jsxs)(k.Form,{className:I.a.Form,onSubmit:function(e){e.preventDefault(),v({email:l,password:h}).then((function(e){e.message?(s(e.message),j(""),p("")):(e.token&&localStorage.setItem("token",e.token),t(e.user))})).catch((function(e){console.log(e),j(""),p("")}))},children:[Object(C.jsxs)(k.Form.Group,{children:[Object(C.jsx)("label",{htmlFor:"email",children:"Email"}),Object(C.jsx)(k.Form.Input,{name:"email",type:"email",placeholder:"Email",value:l||"",onChange:function(e){return j(e)}})]}),Object(C.jsxs)(k.Form.Group,{children:[Object(C.jsx)("label",{htmlFor:"password",children:"Password"}),Object(C.jsx)(k.Form.Input,{name:"password",type:"password",placeholder:"Password",value:h||"",onChange:function(e){return p(e)}})]}),Object(C.jsx)(k.Form.Text,{className:I.a.forgPass,children:Object(C.jsx)(m.b,{to:"/forgotpassword",children:"Forgot password?"})}),Object(C.jsx)("p",{style:{color:"#fff"},children:n}),Object(C.jsxs)("p",{children:["Don't have an account yet? \xa0",Object(C.jsx)(m.b,{to:"/signup",children:"Sign up now"})]}),Object(C.jsx)(k.Button,{type:"submit",children:"Login"})]})]})},T=a(39),P=a.n(T),U=a(61),z=localStorage.getItem("token"),A=f.a.create({baseUrl:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).ORIGIN),headers:{"Content-Type":"application/json"},withCredentials:!0});z?A.defaults.headers.common.Authorization="Bearer ".concat(z):delete A.defaults.headers.common.Authorization;var B=A,E=function(e){var t,a=e.user,r=e.setUser,o=Object(w.a)(e,["user","setUser"]),i=function(){var e=Object(c.a)(n.a.mark((function e(t){var c,o,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("The file to be uploaded is: ",t.target.files[0]),(c=new FormData).append("avatar",t.target.files[0]),e.prev=3,e.next=6,B.post("/users/upload/".concat(a._id),c);case 6:return o=e.sent,console.log("uploaded file is: ",o.secure_url),(i=Object(s.a)({},a)).avatar=o.data.secure_url,e.next=12,r(i);case 12:console.log("avatar",a.avatar),e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(3),e.t0;case 18:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{className:P.a.Container,children:[Object(C.jsxs)("section",{className:P.a.Showcase,children:[Object(C.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center",marginTop:"5%",width:"100%"},children:[Object(C.jsxs)("h1",{style:{marginLeft:"6%"},children:["Hello ",a.firstName,","]}),Object(C.jsx)("div",{className:P.a.Avatar,children:(null===a||void 0===a?void 0:a.avatar)?Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{htmlFor:P.a.FileLoader,children:Object(C.jsx)("img",{src:a.avatar,alt:"user-avatar"})}),Object(C.jsx)("input",{id:P.a.FileLoader,type:"file",name:"avatar",onChange:function(e){return i(e)}})]}):Object(C.jsxs)("h1",{style:{fontWeight:"bold",fontSize:"2.5rem"},children:[Object(C.jsx)("label",{htmlFor:P.a.FileLoader,children:Object(C.jsx)(U.b,{style:{fontSize:"2.7rem"}})}),Object(C.jsx)("input",{id:P.a.FileLoader,type:"file",name:"avatar",value:a.avatar,onChange:function(e){return i(e)}})]})})]}),Object(C.jsxs)("div",{className:P.a.Content,children:[Object(C.jsx)("p",{children:"We are so proud of you!"}),Object(C.jsxs)("p",{children:["You have already helped us to collect"," ",null===(t=a.totalRecycled)||void 0===t?void 0:t.toFixed(2).toString()," Kilograms of recyclable meterial."]}),Object(C.jsx)("p",{children:"Thank you!"})]})]}),Object(C.jsxs)("section",{className:P.a.Dropoffs,children:[Object(C.jsxs)("div",{style:{width:"100%"},children:[Object(C.jsxs)("p",{children:["Display on the map all the recycling points near you.",Object(C.jsx)("br",{})]}),Object(C.jsx)("p",{children:"Happy recycling!"})]}),Object(C.jsxs)(k.Button,{onClick:function(){return o.history.push("/map")},children:[" ",Object(C.jsx)("img",{src:"assets/search-logo.png",alt:"search-logo",style:{width:"1.3rem",marginRight:"5%",color:"rgb(5, 58, 32)"}}),"Map"]})]})]})},M=function(e){var t=e.user,a=e.setUser;e.handleLogout,e.toggleDrawer,Object(w.a)(e,["user","setUser","handleLogout","toggleDrawer"]);return console.log("user",t),Object(C.jsx)("div",{className:S.a.Home,children:t?Object(C.jsx)(F,{exact:!0,path:"/",component:E,user:t,setUser:a}):Object(C.jsx)(O.b,{exact:!0,path:"/",render:function(e){return Object(C.jsx)(R,Object(s.a)(Object(s.a)({},e),{},{setUser:a}))}})})},G=a(31),q=a.n(G),H=function(){return Object(C.jsxs)("div",{className:q.a.About,children:[Object(C.jsxs)("section",{className:q.a.Section,children:[Object(C.jsx)("h1",{style:{marginBottom:"5%",marginLeft:"5%"},children:"Our mission"}),Object(C.jsxs)("p",{style:{padding:"0 5%"},children:["Futura is a circular economy platform that helps producers to track and collect users waist, enabling our stakeholders to earn a little profit, while helping the community to keep the environment clean and improve the livelihood of our community."," "]})]}),Object(C.jsxs)("section",{className:q.a.Section,children:[Object(C.jsxs)("article",{className:q.a.Box,children:[Object(C.jsx)("div",{className:q.a.ImgContainer,children:Object(C.jsx)("img",{src:"../../assets/environment-logo.png",alt:"environment-logo",style:{transform:"scale(0.8)",paddingRight:"5%"}})}),Object(C.jsxs)("div",{style:{padding:"0 15%",marginLeft:"-7%"},children:[Object(C.jsx)("h5",{children:" Save the environment "}),Object(C.jsxs)("p",{className:"text",children:[" ","We collect 50+ Kg recyclable material a day!"]})]})]}),Object(C.jsx)("hr",{}),Object(C.jsxs)("article",{className:q.a.Box,children:[Object(C.jsx)("div",{className:q.a.ImgContainer,children:Object(C.jsx)("img",{src:"../../assets/local-business-logo.png",alt:"local-business-logo",style:{transform:"scale(1.1)"}})}),Object(C.jsxs)("div",{style:{padding:"0 10%"},children:[Object(C.jsx)("h5",{children:" Help local business with sustanable grow"}),Object(C.jsxs)("p",{className:"text",children:[" ","We promote the circular economy and involve local waste stakeholders leveraging their business and connecting them with financial institutions"]})]})]}),Object(C.jsx)("hr",{}),Object(C.jsxs)("article",{className:q.a.Box,children:[Object(C.jsx)("div",{className:q.a.ImgContainer,children:Object(C.jsx)("img",{src:"../../assets/education-logo.png",alt:"education-logo",style:{transform:"scale(0.6)",paddingRight:"10%"}})}),Object(C.jsxs)("div",{style:{padding:"0 10%"},children:[Object(C.jsx)("h5",{children:" Promote education "}),Object(C.jsxs)("p",{className:"text",children:[" ","We sustain the spread of recycling culture among west african countries, and the application of efficient waste management policies."]})]})]}),Object(C.jsx)("hr",{}),Object(C.jsxs)("article",{className:q.a.Box,children:[Object(C.jsx)("div",{className:q.a.ImgContainer,children:Object(C.jsx)("img",{src:"../../assets/fist-logo.png",alt:"fist-logo",style:{transform:"scale(0.7)",paddingRight:"10%"}})}),Object(C.jsxs)("div",{style:{padding:"5% 10%"},children:[Object(C.jsx)("h5",{children:" Empower the people "}),Object(C.jsxs)("p",{className:"text",children:[" ","We allow the community to be actively operative in self development, by empowering and motivating individuals to take action."]})]})]}),Object(C.jsx)("hr",{})]})]})},W=a(91),K=a(55),J=function(){return Object(C.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center",bottom:"0",height:"50px",position:"fixed",backgroundColor:"rgb(5, 58, 32)",width:"100%"},children:[Object(C.jsx)(m.b,{to:"/",children:Object(C.jsx)(W.a,{style:{fontSize:"2rem",color:"#fff"}})}),Object(C.jsx)(m.b,{to:"/user-portal",children:Object(C.jsx)(K.e,{style:{fontSize:"2rem",color:"#fff"}})}),Object(C.jsx)(m.b,{to:"/resources/news",children:Object(C.jsx)(K.a,{style:{fontSize:"2rem",color:"#fff"}})})]})},Z=function(e){var t=e.location.state.url,a=e.location.state.title;return Object(C.jsx)("div",{children:Object(C.jsx)("iframe",{src:t,frameBorder:"0",style:{width:"100%",height:"100vh"},title:a})})},$=a(16),Q=a(94),V=a.n(Q),Y=a(237),X=a.n(Y),ee=function(){return Object(C.jsx)("div",{className:X.a.Loader,children:"Loading..."})},te=function(e){var t=Object(o.useState)(""),a=Object(b.a)(t,2),r=a[0],n=a[1];Object(o.useEffect)((function(){!function(){var e={method:"GET",url:"https://bing-news-search1.p.rapidapi.com/news/search",params:{q:"plastic africa",freshness:"Week",textFormat:"Raw",safeSearch:"Off",count:50,offset:0},headers:{"x-bingapis-sdk":"true","x-rapidapi-key":u.c,"x-rapidapi-host":"bing-news-search1.p.rapidapi.com","X-Frame":"SAMEORIGIN;Secure"}};f.a.request(e).then((function(e){n(e.data.value)})).catch((function(e){console.error(e)}))}()}),[]);var s;return r?Object(C.jsxs)("div",{className:V.a.News,children:[Object(C.jsx)("h1",{children:"All the latest news on recyling in Africa"}),Object(C.jsx)(k.Container,{fluid:!0,children:Object(C.jsx)(k.Col,{className:V.a.Col,children:(s=Object($.a)(r),s.map((function(e){return Object(C.jsxs)(k.Card,{className:V.a.Card,children:[e.image&&Object(C.jsx)("img",{src:e.image.thumbnail.contentUrl,style:{maxHeight:"15rem",objectFit:"contain",marginTop:"3%"},alt:"article-img"}),Object(C.jsxs)(k.Card.Body,{children:[Object(C.jsx)(k.Card.Title,{children:e.name}),Object(C.jsx)(k.Card.Text,{children:e.description}),Object(C.jsx)(m.b,{to:{pathname:"/resources/website",state:{url:e.url,title:e.name}},children:"Read Article"})]})]},e.url)})))})})]}):Object(C.jsx)(ee,{})},ae=a(21),re=a.n(ae),ne=a(62),se=function(e){var t=e.user,a=e.setUser,r=(Object(w.a)(e,["user","setUser"]),Object(o.useState)("")),i=Object(b.a)(r,2),l=i[0],j=i[1],d=D(""),u=Object(b.a)(d,2),h=u[0],p=u[1],m=Object(ne.a)(),O=m.register,x=m.handleSubmit,f=m.formState.errors,g=function(){var e=Object(c.a)(n.a.mark((function e(r){var c,o,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.post("/api/deposits/transfer",{id:t._id,transferAmount:+r.amount});case 2:c=e.sent,o=c.data,(i=Object(s.a)({},t)).balance=t.balance-r.amount,a(i),j(o.message),console.log("responseDB",o),setTimeout((function(){p("")}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{className:re.a.UserPortal,children:[Object(C.jsxs)("section",{className:re.a.Showcase,children:[Object(C.jsxs)("div",{className:re.a.Row,style:{alignItems:"center",marginTop:"5%",marginBottom:"7%"},children:[Object(C.jsxs)("h3",{style:{color:"#eee"},children:[t.firstName," ",t.lastName]}),Object(C.jsx)("div",{className:re.a.Avatar,children:(null===t||void 0===t?void 0:t.avatar)?Object(C.jsx)("img",{src:t.avatar,alt:"user-avatar"}):Object(C.jsx)("h1",{style:{fontWeight:"bold",fontSize:"2.5rem"},children:Object(C.jsx)(U.b,{})})})]}),Object(C.jsxs)("div",{className:re.a.Values,children:[Object(C.jsxs)("div",{className:re.a.Row,children:[Object(C.jsx)("label",{htmlFor:"right",children:"Current Balance"}),Object(C.jsx)("div",{className:re.a.Display,children:"".concat(t.balance.toFixed(2)," $")})]}),Object(C.jsxs)("div",{className:re.a.Row,children:[Object(C.jsx)("label",{htmlFor:"left",children:"Total Recycled"}),Object(C.jsx)("div",{className:re.a.Display,children:"".concat(t.totalRecycled.toFixed(2)," Kg")})]}),Object(C.jsxs)("div",{className:re.a.Row,children:[Object(C.jsx)("label",{htmlFor:"left",children:"Total Earnings"}),Object(C.jsx)("div",{className:re.a.Display,children:"".concat(t.totalEarned.toFixed(2)," $")})]})]})]}),Object(C.jsx)("section",{className:re.a.Inputcase,children:Object(C.jsxs)(k.Form,{onSubmit:x(g),className:re.a.Form,children:[Object(C.jsxs)(k.Form.Group,{className:re.a.Row,style:{alignItems:"flex-end",marginTop:"5%"},children:[Object(C.jsx)("label",{htmlFor:"amount",children:"Cash Transfer"}),Object(C.jsxs)("div",{style:{display:"flex",alignItems:"flex-end"},children:[Object(C.jsx)("span",{style:{marginRight:"5%",fontSize:"1.2rem"},children:"$"}),Object(C.jsx)(k.Form.Input,Object(s.a)(Object(s.a)({},O("amount",{required:!0,maxLength:3,minLength:1})),{},{className:re.a.Display,value:h,placeholder:"$$$",onChange:p})),Object(C.jsx)("span",{style:{marginLeft:"3%"},children:",00"})]})]}),Object(C.jsx)("p",{style:{color:"#fff",fontSize:"1rem"},children:l}),f.amount&&Object(C.jsx)("span",{children:"required"===f.amount.type?"min withdraw 1 $":"Max withdraw 999 $"}),Object(C.jsx)(k.Button,{type:"submit",children:Object(C.jsx)("img",{src:"assets/transferwise-logo.png",alt:"transferwise-logo"})})]})})]})},ce=a(40),oe=a.n(ce),ie=function(e){var t=e.user,a=Object(w.a)(e,["user"]),r=Object(o.useState)(""),i=Object(b.a)(r,2),l=i[0],j=i[1],d=D(""),h=Object(b.a)(d,2),p=h[0],m=h[1],O=D(""),x=Object(b.a)(O,2),f=x[0],g=x[1],v=D(""),y=Object(b.a)(v,2),_=y[0],F=y[1],N=D(""),S=Object(b.a)(N,2),L=S[0],I=S[1],R=D(""),T=Object(b.a)(R,2),P=T[0],U=T[1],z=Object(o.useState)(""),A=Object(b.a)(z,2),E=A[0],M=A[1],G=Object(o.useState)(""),q=Object(b.a)(G,2),H=q[0],W=q[1],K=Object(ne.a)(),J=K.register,Z=K.handleSubmit,$=K.formState.errors,Q=function(){var e=Object(c.a)(n.a.mark((function e(r){var s,c,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("data",r),e.prev=1,e.next=4,B.get(" https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(f,",").concat(_,",").concat(P,",").concat(L,".json?types=address&access_token=").concat(u.b));case 4:return s=e.sent,c=s.data.features[0].center,e.next=8,B.post("/api/dropoffs/add",{name:p,street:f,city:L,houseNumber:_,zipCode:P,lngLat:c,openingTime:E,closingTime:H,createdBy:t});case 8:o=e.sent,console.log("response",o),o&&(j(o.data.message),setTimeout((function(){j(""),a.history.push("/")}),3e3)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),j(e.t0.message),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{className:oe.a.Container,children:[Object(C.jsx)("section",{children:Object(C.jsxs)("div",{children:[Object(C.jsx)("p",{children:"Help the community and start a new recycling point today!"}),Object(C.jsx)("p",{children:"Fill the form and add all the details of the new location."}),Object(C.jsx)("p",{children:"Soon our Team will contact you to validate your idoneity and will abilitate your new Futura recycling point!"})]})}),Object(C.jsxs)(k.Form,{onSubmit:Z(Q),className:oe.a.Form,children:[Object(C.jsxs)(k.Form.Group,{id:oe.a.firstInput,children:[Object(C.jsx)(k.Form.Input,Object(s.a)(Object(s.a)({},J("name",{required:!0,minLength:3})),{},{type:"text",placeholder:"Location name",value:p,onChange:m})),$.name&&Object(C.jsx)("span",{children:"This field is required"})]}),Object(C.jsxs)(k.Form.Group,{children:[Object(C.jsxs)(k.Row,{children:[Object(C.jsxs)(k.Col,{children:[Object(C.jsx)(k.Form.Input,Object(s.a)(Object(s.a)({},J("street",{required:!0,minLength:3})),{},{type:"text",placeholder:"Street",value:f,onChange:g,className:oe.a.Long})),$.street&&Object(C.jsx)("span",{children:"This field is required"})]}),Object(C.jsxs)(k.Col,{children:[Object(C.jsx)(k.Form.Input,Object(s.a)(Object(s.a)({},J("houseNumber",{required:!0,minLength:1})),{},{type:"text",placeholder:"House num.",value:_,onChange:F,className:oe.a.Short})),$.houseNumber&&Object(C.jsx)("span",{children:"This field is required"})]})]}),Object(C.jsxs)(k.Row,{children:[Object(C.jsxs)(k.Col,{children:[Object(C.jsx)(k.Form.Input,Object(s.a)(Object(s.a)({},J("city",{required:!0,minLength:3})),{},{type:"text",placeholder:"City",value:L,onChange:I,className:oe.a.Long})),$.city&&Object(C.jsx)("span",{children:"This field is required"})]}),Object(C.jsxs)(k.Col,{children:[Object(C.jsx)(k.Form.Input,Object(s.a)(Object(s.a)({},J("zipCode",{required:!0,minLength:5,maxLength:5})),{},{type:"text",placeholder:"ZIP Code",value:P,onChange:U,className:oe.a.Short})),$.zipCode&&Object(C.jsx)("span",{children:"This field is required"})]})]}),Object(C.jsx)(k.Form.Group,{children:Object(C.jsxs)(k.Row,{children:[Object(C.jsxs)(k.Col,{children:[Object(C.jsx)("label",{htmlFor:"openingTime",children:"Opening"}),Object(C.jsxs)(k.Form.Select,Object(s.a)(Object(s.a)({},J("openingTime",{required:!0})),{},{type:"datetime-local",placeholder:"Opening time",value:E,onChange:function(e){return M(e.target.value)},className:oe.a.TimePicker,children:[Object(C.jsx)("option",{children:"--Select time--"}),Object(C.jsx)("option",{value:"0900",children:"09.00"}),Object(C.jsx)("option",{value:"0930",children:"09.30"}),Object(C.jsx)("option",{value:"1000",children:"10.00"}),Object(C.jsx)("option",{value:"1030",children:"10.30"}),Object(C.jsx)("option",{value:"1100",children:"11.00"}),Object(C.jsx)("option",{value:"1130",children:"11.30"}),Object(C.jsx)("option",{value:"1200",children:"12.00"}),Object(C.jsx)("option",{value:"1230",children:"12.30"})]})),$.openingTime&&Object(C.jsx)("span",{children:"This field is required"})]}),Object(C.jsxs)(k.Col,{children:[Object(C.jsx)("label",{htmlFor:"closingTime",children:"Closing"}),Object(C.jsxs)(k.Form.Select,Object(s.a)(Object(s.a)({},J("closingTime",{required:!0})),{},{type:"datetime-local",placeholder:"Closing time",value:H,onChange:function(e){return W(e.target.value)},className:oe.a.TimePicker,children:[Object(C.jsx)("option",{children:"--Select time--"}),Object(C.jsx)("option",{value:"1600",children:"16.00"}),Object(C.jsx)("option",{value:"1630",children:"16.30"}),Object(C.jsx)("option",{value:"1700",children:"17.00"}),Object(C.jsx)("option",{value:"1730",children:"17.30"}),Object(C.jsx)("option",{value:"1800",children:"18.00"}),Object(C.jsx)("option",{value:"1830",children:"18.30"}),Object(C.jsx)("option",{value:"1900",children:"19.00"}),Object(C.jsx)("option",{value:"1930",children:"19.30"})]})),$.closingTime&&Object(C.jsx)("span",{children:"This field is required"})]})]})})]}),Object(C.jsx)("p",{style:{color:"#fff",fontSize:"1rem"},children:l}),Object(C.jsx)(k.Button,{primary:!0,type:"submit",children:"Create Drop-Off"})]})]})},le=a(95),je=a.n(le),de=function(e){e.setIsSignup,e.user;var t=e.setUser,a=Object(w.a)(e,["setIsSignup","user","setUser"]),r=Object(o.useState)(""),n=Object(b.a)(r,2),s=n[0],c=n[1],i=D(""),l=Object(b.a)(i,2),j=l[0],d=l[1],u=D(""),h=Object(b.a)(u,2),p=h[0],m=h[1],O=D(""),x=Object(b.a)(O,2),f=x[0],v=x[1],y=D(""),_=Object(b.a)(y,2),F=_[0],N=_[1],S=D(""),L=Object(b.a)(S,2),I=L[0],R=L[1],T=D(""),P=Object(b.a)(T,2),U=P[0],z=P[1],A=D(""),B=Object(b.a)(A,2),E=B[0],M=B[1],G=D(""),q=Object(b.a)(G,2),H=q[0],W=q[1],K=D(""),J=Object(b.a)(K,2),Z=J[0],$=J[1],Q=D(""),V=Object(b.a)(Q,2),Y=V[0],X=V[1];return Object(C.jsxs)("div",{className:je.a.Container,children:[Object(C.jsxs)("h1",{children:[Object(C.jsx)("span",{children:"Futura"}),Object(C.jsx)("img",{src:"../../../assets/africa-recycle-logo.png",alt:"recycle-logo",style:{width:"3rem",height:"3rem",borderRadius:"50%"}})]}),Object(C.jsxs)(k.Form,{className:je.a.Form,onSubmit:function(e){e.preventDefault(),g({firstName:j,lastName:p,email:F,password:I,confirm:U,street:E,zipCode:Z,city:H,state:Y,phoneNumber:f}).then((function(e){e.message?(c(e.message),d(""),m(""),v(""),N(""),R(""),z(""),M(""),W(""),$(""),X("")):(t(e),a.history.push("/"))}))},children:[Object(C.jsxs)(k.Form.Group,{children:[Object(C.jsx)("label",{htmlFor:"firstName",children:"Name"}),Object(C.jsx)(k.Form.Input,{name:"firstName",type:"firstName",placeholder:"Name",value:j,onChange:d})]}),Object(C.jsxs)(k.Form.Group,{children:[Object(C.jsx)("label",{htmlFor:"lastName",children:"Last name"}),Object(C.jsx)(k.Form.Input,{name:"lastName",type:"lastName",placeholder:"Last name",value:p,onChange:m})]}),Object(C.jsxs)(k.Form.Group,{children:[Object(C.jsx)("label",{htmlFor:"phoneNumber",children:"Phone number"}),Object(C.jsx)(k.Form.Input,{name:"phoneNumber",type:"phoneNumber",placeholder:"Phone number",value:f,onChange:v})]}),Object(C.jsxs)(k.Form.Group,{children:[Object(C.jsx)("label",{htmlFor:"email",children:"Email"}),Object(C.jsx)(k.Form.Input,{name:"email",type:"email",placeholder:"Email",value:F,onChange:N})]}),Object(C.jsxs)(k.Form.Group,{children:[Object(C.jsx)("label",{htmlFor:"password",children:"Password"}),Object(C.jsx)(k.Form.Input,{name:"password",type:"password",placeholder:"Password",value:I,onChange:R})]}),Object(C.jsxs)(k.Form.Group,{children:[Object(C.jsx)("label",{htmlFor:"password",children:"Confirm password"}),Object(C.jsx)(k.Form.Input,{name:"confirm",type:"password",placeholder:"confirm password",value:U,onChange:z})]}),Object(C.jsxs)(k.Form.Group,{children:[Object(C.jsx)("label",{htmlFor:"street",children:"Street"}),Object(C.jsx)(k.Form.Input,{name:"street",type:"text",placeholder:"Street",value:E,onChange:M})]}),Object(C.jsxs)(k.Form.Group,{children:[Object(C.jsx)("label",{htmlFor:"city",children:"City"}),Object(C.jsx)(k.Form.Input,{name:"city",type:"text",placeholder:"City",value:H,onChange:W})]}),Object(C.jsxs)(k.Form.Group,{children:[Object(C.jsx)("label",{htmlFor:"zipCode",children:"ZIP Code"}),Object(C.jsx)(k.Form.Input,{name:"zipCode",type:"text",placeholder:"ZIP Code",value:Z,onChange:$})]}),Object(C.jsxs)(k.Form.Group,{children:[Object(C.jsx)("label",{htmlFor:"state",children:"State"}),Object(C.jsx)(k.Form.Input,{name:"state",type:"text",placeholder:"State",value:Y,onChange:X})]}),Object(C.jsx)(k.Form.Text,{children:Object(C.jsx)("p",{id:je.a.Terms,children:"By clicking Sign Up, you agree to our Terms. Learn how we collect, use and share your data in our Data Policy and how we use cookies and similar technology in our Cookie Policy. You may receive SMS notifications from us and can opt out at any time."})}),Object(C.jsx)("p",{style:{color:"#fff",fontSize:"1rem"},children:s}),Object(C.jsxs)("p",{children:["Do you already have an account?",Object(C.jsx)("button",{onClick:function(){a.history.push("/")},children:"Log in"})]}),Object(C.jsx)(k.Button,{primary:!0,type:"submit",children:"Sign up"})]})]})},ue=a(135),be=a.n(ue),he=a(92),pe=function(e){var t=Object(o.useState)(""),a=Object(b.a)(t,2),r=a[0],n=a[1],s=D(""),c=Object(b.a)(s,2),i=c[0],l=c[1];return Object(C.jsxs)("div",{className:be.a.Container,children:[Object(C.jsxs)("h1",{children:[Object(C.jsx)("span",{children:"Futura"}),Object(C.jsx)("img",{src:"../../../assets/africa-recycle-logo.png",alt:"",style:{width:"3rem",height:"3rem",borderRadius:"50%"}})," "]}),Object(C.jsxs)(k.Form,{onSubmit:function(t){t.preventDefault(),""!==i&&B.post("/api/auth/forgotpassword",{email:i}).then((function(t){n(t.data),l(""),setTimeout((function(){e.history.push("/")}),3e3)})).catch((function(e){return console.log(e)}))},className:be.a.Form,children:[Object(C.jsxs)(k.Form.Group,{children:[Object(C.jsx)("label",{htmlFor:"email",children:"Email"}),Object(C.jsx)(k.Form.Input,{name:"email",type:"email",placeholder:"Email",value:i,onChange:l})]}),Object(C.jsxs)(k.Form.Text,{children:[" ",Object(C.jsxs)("p",{children:["A verification code will be sent to your email address.",Object(C.jsx)("br",{}),"Please verify your email has been entered correctly"]})]}),r&&Object(C.jsx)(k.Form.Text,{children:Object(C.jsx)("span",{style:{color:"blue",fontSize:"1rem"},children:r})}),Object(C.jsx)(k.Button,{type:"submit",disabled:!i,children:"Send recovery email"})]}),Object(C.jsxs)(m.b,{to:"/",children:[" ",Object(C.jsx)(he.a,{style:{fontSize:"2rem"}})]})]})},me=a(136),Oe=a.n(me),xe=function(e){var t=Object(o.useState)(""),a=Object(b.a)(t,2),r=a[0],n=a[1],s=D(""),c=Object(b.a)(s,2),i=c[0],l=c[1],j=D(""),d=Object(b.a)(j,2),u=d[0],h=d[1],p=Object(o.useState)(e.match.params.resettoken),O=Object(b.a)(p,1)[0];return Object(C.jsxs)("div",{className:Oe.a.Container,children:[Object(C.jsxs)("h1",{children:[Object(C.jsx)("span",{children:"Futura"}),Object(C.jsx)("img",{src:"../../../assets/africa-recycle-logo.png",alt:"",style:{width:"3rem",height:"3rem",borderRadius:"50%"}})," "]}),Object(C.jsxs)(k.Form,{className:Oe.a.Form,onSubmit:function(t){t.preventDefault(),B.put("/api/auth/resetpassword/".concat(O),{password:i,confirm:u}).then((function(t){console.log("response",t.data.message),n(t.data.message),setTimeout((function(){e.history.push("/")}),3e3)})).catch((function(e){return console.log(e)}))},children:[Object(C.jsxs)(k.Form.Group,{children:[Object(C.jsx)("label",{htmlFor:"password",children:"Password"}),Object(C.jsx)(k.Form.Input,{name:"password",type:"password",placeholder:"Password",value:i,onChange:l})]}),Object(C.jsxs)(k.Form.Group,{children:[Object(C.jsx)("label",{htmlFor:"confirm",children:"Confirm Password"}),Object(C.jsx)(k.Form.Input,{name:"confirm",type:"password",placeholder:"Confirm Password",value:u,onChange:h})]}),Object(C.jsx)("p",{style:{color:"#fff",fontSize:"1rem"},children:r}),Object(C.jsx)(k.Button,{type:"submit",children:"Reset Password"})]}),Object(C.jsxs)(m.b,{to:"/",children:[" ",Object(C.jsx)(he.a,{style:{fontSize:"2rem"}})]})]})},fe=a(63),ge=a.n(fe),ve=function(e){var t=e.toggleDrawer;return Object(C.jsx)("div",{style:{width:"100%",height:"100%",position:"fixed",zIndex:"100",right:"0",top:"0",backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:t})},ye=a(238),_e=function(e){var t=e.drawerOpen,a=e.toggleDrawer,r=e.handleLogout,n=e.user,s=ge.a.SideDrawer;return t&&(s="".concat(ge.a.SideDrawer," ").concat(ge.a.Open)),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(ve,{toggleDrawer:a}),Object(C.jsxs)("div",{className:s,children:[Object(C.jsxs)("div",{style:{height:"40%",backgroundColor:"rgb(5, 58, 32)",display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"center"},children:[Object(C.jsxs)("h1",{children:[Object(C.jsx)("span",{children:"Futura"}),Object(C.jsx)("img",{src:"../../../assets/africa-recycle-logo.png",alt:"",style:{width:"3rem",height:"3rem",borderRadius:"50%"}})," "]}),Object(C.jsxs)("div",{className:ge.a.UserInfos,children:[Object(C.jsx)("div",{className:ge.a.Avatar,children:n.avatar&&Object(C.jsx)("img",{src:n.avatar,alt:"user-avatar"})}),Object(C.jsxs)("div",{style:{width:"60%",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(C.jsxs)("p",{children:[n.firstName," ",n.lastName]}),Object(C.jsx)("span",{children:n.email})]})]})]}),Object(C.jsx)(k.Nav,{onClick:a,style:{height:"60%"},children:Object(C.jsxs)("ul",{children:[Object(C.jsxs)("li",{children:[Object(C.jsx)(K.d,{style:{color:"rgb(9, 173, 7)"}}),Object(C.jsx)(k.Nav.Link,{href:"/history",children:"Recycle history"})]}),Object(C.jsxs)("li",{children:[Object(C.jsx)(ye.a,{style:{color:"rgb(9, 173, 7)"}}),Object(C.jsx)(k.Nav.Link,{href:"/chat",children:"Chat"})]}),Object(C.jsxs)("li",{children:[Object(C.jsx)(K.c,{style:{color:"rgb(9, 173, 7)"}}),Object(C.jsx)(k.Nav.Link,{href:"/create-dropoff",children:"New recycling point"})]}),"Admin"===n.role&&Object(C.jsxs)("li",{children:[Object(C.jsx)(U.a,{style:{color:"rgb(9, 173, 7)"}}),Object(C.jsxs)(k.Nav.Link,{href:"/deposit",children:[" ","New Deposit"]})]}),Object(C.jsxs)("li",{children:[Object(C.jsx)(K.b,{style:{color:"rgb(9, 173, 7)"}}),Object(C.jsx)(k.Nav.Link,{href:"/about",children:"About us"})]}),Object(C.jsxs)("li",{children:[Object(C.jsx)(W.b,{style:{color:"rgb(9, 173, 7)"}}),Object(C.jsx)(k.Button,{onClick:r,children:"Logout"})]})]})})]})]})},we=a(137),Ce=a.n(we),Fe=(a(568),a(13)),Ne=a(97),Se=function(e){return{features:Object($.a)(e).map((function(e,t){return{key:e._id,type:"Feature",properties:{id:e._id,name:e.name,street:e.street,houseNumber:e.houseNumber,zipCode:e.zipCode,openingTime:e.openingTime,closingTime:e.closingTime},geometry:{type:"Point",coordinates:e.lngLat}}})),type:"FeatureCollection"}},Le=Object(Ne.c)({accessToken:u.b}),Ie=function(e){var t=e.setIsMapPage,a=Object(o.useState)(),r=Object(b.a)(a,2),s=r[0],i=r[1],l=Object(o.useState)([12]),j=Object(b.a)(l,2),d=j[0],u=j[1],h=Object(o.useState)([]),p=Object(b.a)(h,2),m=p[0],O=p[1],x=Object(o.useState)({}),f=Object(b.a)(x,2),g=f[0],v=f[1],y=Object(o.useState)(null),_=Object(b.a)(y,2),w=_[0],F=_[1];Object(o.useEffect)((function(){return t(!0),function(){t(!1)}}),[]);var N=Object(o.useCallback)(Object(c.a)(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.get("/api/dropoffs");case 3:return t=e.sent,a=t.data,O(a),e.next=8,Se(a);case 8:r=e.sent,v({type:"geojson",data:r}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),[]),S=Object(o.useCallback)((function(e){i(e)}),[]),L=function(){F(null)},I=Object(o.useMemo)((function(){return g.data&&g.data.map((function(e,t){return Object(C.jsxs)("div",{children:[Object(C.jsx)(Ne.a,{coordinates:e.geometry.coordinates,className:Ce.a.Marker,onClick:function(){return function(e){F(e)}(e.key)}}),null!==w&&w===e.key&&Object(C.jsxs)(Ne.b,{visible:w===e.key,coordinates:e.geometry.coordinates,onClose:L,closeButton:!0,closeOnClick:!0,children:[Object(C.jsx)("div",{children:Object(C.jsx)("button",{color:"secondary",onClick:function(){return L()},children:"x"})}),Object(C.jsx)("p",{style:{fontWeight:"800",fontFamily:"'Dancing Script', cursive",fontSize:"1.2rem"},children:e.properties.name})," ",Object(C.jsxs)("p",{children:[e.properties.street,","," ",e.properties.houseNumber," -"," ",e.properties.zipCode," "]})," ",Object(C.jsx)("p",{style:{fontWeight:"500"},children:"Opening hours:"}),Object(C.jsxs)("p",{children:[null===e||void 0===e?void 0:e.properties.openingTime," /"," ",null===e||void 0===e?void 0:e.properties.closingTime," "]})]})]},e.key)}))}),[g,w]);return Object(o.useEffect)((function(){N()}),[N]),Object(o.useEffect)((function(){null===s||void 0===s||s.addControl(new Fe.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showUserLocation:!0}))}),[s]),Object(o.useEffect)((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,a=t.longitude,r=t.latitude;null===s||void 0===s||s.setCenter([a,r]),u([15])}),(function(e){console.log("err: ",e)}))}),[s]),Object(o.useEffect)((function(){var e=Se(m);v({type:"geojson",data:e.features})}),[m]),Object(o.useEffect)((function(){if(!(m.length<=1)){var e=function(e){var t=new Fe.LngLatBounds;return e.forEach((function(e){var a=e.lngLat;t.extend(a)})),t}(m);null===s||void 0===s||s.fitBounds(e)}}),[s,m]),Object(C.jsx)(Le,{className:Ce.a.Container,style:"mapbox://styles/mapbox/streets-v11",zoom:d,onStyleLoad:S,children:I})},ke=a(96),De=a.n(ke),Re=function(e){var t=Object(o.useState)(""),a=Object(b.a)(t,2),r=a[0],n=a[1];return Object(C.jsxs)("div",{className:De.a.Container,children:[Object(C.jsx)("input",{type:"text",placeholder:"Room",value:r,onChange:function(e){return n(e.target.value)},className:De.a.Input}),Object(C.jsx)(m.b,{to:"/chat-room?name=".concat(e.user.firstName,"&room=").concat(r),className:De.a.Button,onClick:function(e){return!r&&e.preventDefault()},children:"Join room"})]})},Te=a(36),Pe=a.n(Te),Ue=a(239),ze=a.n(Ue),Ae=a(240),Be=a.n(Ae),Ee="newChatMessage",Me=function(e){var t=Object(o.useState)(""),a=Object(b.a)(t,2),r=a[0],n=a[1],c=Object(o.useState)(""),i=Object(b.a)(c,2),l=i[0],j=i[1],d=Object(o.useState)([]),u=Object(b.a)(d,2),h=u[0],p=u[1],m=Object(o.useRef)(),O=localStorage.getItem("token");Object(o.useEffect)((function(){var t=Be.a.parse(e.location.search),a=t.name,r=t.room;return n(a),j(r),m.current=ze()("http://localhost:5005",{query:{name:a,room:r}}),m.current.on(Ee,(function(e){var t=Object(s.a)(Object(s.a)({},e),{},{ownedByCurrentUser:e.senderId===m.current.id});p((function(e){return[].concat(Object($.a)(e),[t])}))}),{headers:{Authorization:"Bearer ".concat(O)}}),function(){m.current.disconnect()}}),[e.location.search,O]);return{messages:h,sendMessage:function(e){m.current.emit(Ee,{body:e,senderId:m.current.id})},name:r,room:l}},Ge=function(e){var t=Me(e),a=t.messages,r=t.sendMessage,n=t.name,s=t.room,c=Object(o.useState)(""),i=Object(b.a)(c,2),l=i[0],j=i[1];return Object(C.jsxs)("div",{className:Pe.a.Container,children:[Object(C.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(C.jsxs)("h1",{className:Pe.a.Name,children:["Room: ",s]}),Object(C.jsx)("div",{className:Pe.a.Messages,children:Object(C.jsx)("ol",{className:Pe.a.MessagesList,children:a.map((function(t,a){return Object(C.jsxs)("li",{className:"".concat(Pe.a.Item," ").concat(t.ownedByCurrentUser?Pe.a.MyMessage:Pe.a.ReceivedMessage),children:[Object(C.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",width:"100%"},children:[Object(C.jsx)("div",{className:Pe.a.Avatar,children:e.user.avatar&&Object(C.jsx)("img",{src:e.user.avatar,alt:"user-avatar"})}),Object(C.jsxs)("p",{style:{display:"flex",alignSelf:"flex-start",fontSize:"0.9rem"},children:[n," says:"]})]}),Object(C.jsx)("p",{style:{fontWeight:"700",marginBottom:"0"},children:t.body})]},a)}))})})]}),Object(C.jsxs)("div",{className:Pe.a.Lower,children:[Object(C.jsx)("textarea",{placeholder:"Write message...",className:Pe.a.Textarea,value:l,onChange:function(e){return j(e.target.value)}}),Object(C.jsx)("button",{onClick:function(){r(l),j("")},disabled:!l,children:"Send"})]})]})},qe=a(41),He=a.n(qe),We=function(e){var t=Object(ne.a)(),a=t.register,r=t.formState.errors,i=Object(o.useState)(""),l=Object(b.a)(i,2),j=l[0],d=l[1],u=D(""),h=Object(b.a)(u,2),p=h[0],m=h[1],O=D(""),x=Object(b.a)(O,2),f=x[0],g=x[1],v=D(""),y=Object(b.a)(v,2),_=y[0],w=y[1],F=Object(o.useState)([]),N=Object(b.a)(F,2),S=N[0],L=N[1],I=D(""),R=Object(b.a)(I,2),T=R[0],P=R[1],U=Object(o.useState)(0),z=Object(b.a)(U,2),A=z[0],E=z[1];Object(o.useEffect)((function(){var e=1*((+p+1e3*+f)/1e3).toFixed(2);E(e)}),[p,f]),Object(o.useEffect)((function(){M()}),[]);var M=function(){var e=Object(c.a)(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.get("/api/dropoffs");case 3:t=e.sent,a=t.data.map((function(e){return Object(C.jsx)("option",{value:e.name,children:e.name},e._id)})),L(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var t=Object(c.a)(n.a.mark((function t(a){var r,s;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),r=((+p+1e3*+f)/1e3).toFixed(2),t.prev=2,t.next=5,B.post("/api/deposits/add",{location:_,deposited:+r,credit:A,email:T});case 5:return s=t.sent,console.log("deposit",s),t.next=9,d(s.message);case 9:w(""),P(""),m(0),g(0),e.history.go(0),t.next=19;break;case 16:throw t.prev=16,t.t0=t.catch(2),t.t0;case 19:case"end":return t.stop()}}),t,null,[[2,16]])})));return function(e){return t.apply(this,arguments)}}();return Object(C.jsx)("div",{className:He.a.Container,children:Object(C.jsx)("div",{className:He.a.Form,children:Object(C.jsxs)(k.Form,{onSubmit:G,className:He.a.Form,children:[Object(C.jsxs)("div",{children:[Object(C.jsxs)(k.Form.Group,{children:[Object(C.jsx)("label",{htmlFor:"location",children:"Location"}),Object(C.jsxs)(k.Form.Select,Object(s.a)(Object(s.a)({},a("location",{required:!0})),{},{type:"text",placeholder:"Location",value:_,onChange:w,className:He.a.SelectInput,children:[Object(C.jsx)("option",{children:"--- Select a location ---"}),S]})),r.name&&Object(C.jsx)("span",{children:"This field is required"})]}),Object(C.jsxs)(k.Form.Group,{children:[Object(C.jsx)("label",{htmlFor:"email",children:"Email"}),Object(C.jsx)(k.Form.Input,Object(s.a)(Object(s.a)({},a("email",{required:!0,pattern:/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/})),{},{type:"email",placeholder:"Email",value:T,onChange:P}))]}),Object(C.jsx)(k.Form.Group,{children:Object(C.jsxs)("div",{className:He.a.Row,children:[Object(C.jsxs)("div",{className:He.a.Col,children:[Object(C.jsx)("label",{htmlFor:"depositedKg",children:"Deposit Kg."}),Object(C.jsx)(k.Form.Input,Object(s.a)(Object(s.a)({},a("depositedKg",{required:!0,maxLength:2})),{},{type:"text",placeholder:"Kilograms",value:f,onChange:g,className:He.a.Deposit}))]}),Object(C.jsxs)("div",{className:He.a.Col,children:[Object(C.jsx)("label",{htmlFor:"depositedGr"}),Object(C.jsx)(k.Form.Input,Object(s.a)(Object(s.a)({},a("depositedGr",{required:!0,maxLength:3})),{},{type:"text",placeholder:"Grams",value:p,onChange:m,className:He.a.Deposit,style:{marginTop:"5.5%"}}))]})]})}),Object(C.jsxs)(k.Form.Group,{children:[Object(C.jsx)("label",{htmlFor:"credit",children:"Credit $"}),Object(C.jsx)(k.Form.Input,Object(s.a)(Object(s.a)({},a("credit",{required:!0})),{},{type:"text",placeholder:"Deposit Kg.",value:A,disable:T}))]})]}),Object(C.jsx)("p",{style:{color:"#fff"},children:j}),Object(C.jsx)(k.Button,{type:"Submit",children:"Add credit"})]})})})},Ke=a(79),Je=a.n(Ke),Ze=function(e){var t=Object(o.useState)([]),a=Object(b.a)(t,2),r=a[0],s=a[1],i=function(){var t=Object(c.a)(n.a.mark((function t(){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.get("/api/deposits/".concat(e.user._id));case 3:a=t.sent,s(a.data),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();Object(o.useEffect)((function(){i()}),[]);var l=null===r||void 0===r?void 0:r.map((function(e){var t=new Date(e.createdAt);return Object(C.jsxs)("tr",{className:Je.a.Deposit,children:[Object(C.jsxs)("td",{children:[Object(C.jsx)("b",{children:"Deposited on"})," ",t.toLocaleDateString()," ",Object(C.jsx)("b",{children:"at our "})," ",e.location," ",Object(C.jsx)("b",{children:"e-point"})]}),Object(C.jsxs)("td",{children:[Object(C.jsx)("b",{children:"Kg."})," ",e.kgDeposited]}),Object(C.jsxs)("td",{children:[Object(C.jsx)("b",{children:"Credit $"})," ",e.credit]})]},e._id)}));return Object(C.jsx)("div",{className:Je.a.Container,children:Object(C.jsx)("div",{className:Je.a.CardsContainer,children:Object(C.jsx)("table",{className:Je.a.Card,children:Object(C.jsx)("tbody",{children:l})})})})};var $e=function(e){var t=Object(o.useState)(!1),a=Object(b.a)(t,2),r=a[0],n=a[1],c=Object(o.useState)(!1),i=Object(b.a)(c,2),l=i[0],j=i[1],d=Object(o.useState)(e.user),u=Object(b.a)(d,2),h=u[0],x=u[1];console.log("user",h);var f=Object(o.useState)(window.innerWidth),g=Object(b.a)(f,2),v=g[0],w=g[1],N=function(){w(window.innerWidth)};Object(o.useEffect)((function(){return window.addEventListener("resize",N),function(){window.removeEventListener("resize",N)}}),[]);var S=function(){n((function(){return!r}))},L=function(){return y().then((function(){x((function(){return""})),localStorage.removeItem("token")})).catch((function(e){console.log(e)}))};return Object(C.jsx)(m.a,{children:Object(C.jsxs)("div",{className:p.a.App,children:[r&&Object(C.jsx)(_e,{user:h,drawerOpen:r,toggleDrawer:S,handleLogout:L}),h&&!l&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(_.a,{style:{fontSize:"2rem",display:"flex",justifySelf:"flex-start",alignSelf:"flex-start",position:"fixed",zIndex:10,right:"7%",top:"3%",color:"rgb(5, 58, 32)"},onClick:S}),Object(C.jsx)("header",{children:Object(C.jsxs)("div",{style:{display:"flex",width:"100%",alignItems:"center"},children:[Object(C.jsxs)("div",{className:p.a.Logo,children:[Object(C.jsx)("img",{src:"assets/africa-recycle-logo.png",alt:"recycle-logo"}),Object(C.jsx)("h1",{children:"!"})]}),v>"660"&&Object(C.jsxs)("p",{style:{marginRight:"15%"},children:["It's all about what you do for our future..."," "]})]})})]}),Object(C.jsxs)(O.d,{children:[Object(C.jsx)(O.b,{exact:!0,path:"/",render:function(e){return Object(C.jsx)(M,Object(s.a)(Object(s.a)({},e),{},{user:h,setUser:x,handleLogout:L,toggleDrawer:S,width:v}))}}),Object(C.jsx)(O.b,{exact:!0,path:"/signup",render:function(e){return Object(C.jsx)(de,Object(s.a)(Object(s.a)({},e),{},{setUser:x}))}}),Object(C.jsx)(O.b,{exact:!0,path:"/forgotpassword",render:function(e){return Object(C.jsx)(pe,Object(s.a)({},e))}}),Object(C.jsx)(O.b,{exact:!0,path:"/resetpassword/:resettoken",render:function(e){return Object(C.jsx)(xe,Object(s.a)({},e))}}),Object(C.jsx)(F,{exact:!0,path:"/about",component:H,user:h,width:v}),Object(C.jsx)(F,{exact:!0,path:"/user-portal",component:se,user:h,setUser:x,width:v}),Object(C.jsx)(F,{exact:!0,path:"/deposit",component:We,user:h,width:v}),Object(C.jsx)(F,{exact:!0,path:"/history",component:Ze,user:h,width:v}),Object(C.jsx)(F,{exact:!0,path:"/chat",component:Re,user:h}),Object(C.jsx)(F,{exact:!0,path:"/chat-room",component:Ge,user:h}),Object(C.jsx)(F,{exact:!0,path:"/resources/website",component:Z,user:h}),Object(C.jsx)(F,{exact:!0,path:"/resources/news",component:te,user:h}),Object(C.jsx)(F,{exact:!0,path:"/map",component:Ie,user:h,setIsMapPage:j}),Object(C.jsx)(F,{exact:!0,path:"/create-dropoff",component:ie,user:h,width:v})]}),h&&Object(C.jsx)(J,{})]})})},Qe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,598)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),s(e),c(e)}))},Ve=localStorage.getItem("token");d.a.verify(Ve,u.a,function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=7;break}return e.next=3,B.get("/api/auth/loggedin/".concat(a._id));case 3:r=e.sent,l.a.render(Object(C.jsx)(m.a,{children:Object(C.jsx)($e,{user:Object(s.a)(Object(s.a)({},r.data),a)})}),document.getElementById("root")),e.next=8;break;case 7:l.a.render(Object(C.jsx)(m.a,{children:Object(C.jsx)($e,{user:""})}),document.getElementById("root"));case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Qe()},63:function(e,t,a){e.exports={SideDrawer:"SideDrawer_SideDrawer__3R1a5",Open:"SideDrawer_Open__3FEDM",slide:"SideDrawer_slide__wLPJF",UserInfos:"SideDrawer_UserInfos__2k3bu",Avatar:"SideDrawer_Avatar__1eHAL"}},79:function(e,t,a){e.exports={Container:"RecycleHistory_Container__3XdOq",Logo:"RecycleHistory_Logo__YSvm-",Card:"RecycleHistory_Card__3W58D",Deposit:"RecycleHistory_Deposit__3HA0O"}},93:function(e,t,a){e.exports={Container:"Login_Container__aj26q",Form:"Login_Form__18v8j",forgPass:"Login_forgPass__3bZRw"}},94:function(e,t,a){e.exports={News:"News_News__2NsKU",Col:"News_Col__oObHA",Card:"News_Card__1TxWK"}},95:function(e,t,a){e.exports={Container:"Signup_Container__3lQ1R",Logo:"Signup_Logo__2wp4H",Form:"Signup_Form__2Lorr",Terms:"Signup_Terms__2a3xa"}},96:function(e,t,a){e.exports={Container:"Chat_Container__3u9_N",Input:"Chat_Input__3Rotm",Button:"Chat_Button__1oD-6"}}},[[597,1,2]]]);
//# sourceMappingURL=main.32ca96bd.chunk.js.map